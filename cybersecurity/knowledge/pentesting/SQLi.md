---
title: SQLi
---

_[[development/databases/mysql-cheatsheet|SQL]] Injection_ is an attack on a web application DB server that causes malicious queries to be executed through the input that hasn't been properly validated.

Malicious queries can be used to steal, delete or alter private and customer data and also attack the web applications authentication methods to private or customer areas.

## Example of SQLi

We have a blog post that is available under the URL:

```
https://website.thm/blog?id=1
```

We can see that the blog entry is selected with the `id` query param. We can guess the SQL statement used to retrieve the article from the DB is something like this:

`SELECT * from blog where id=1 and private=0 LIMIT 1;`

SQL Injection is introduced when **user input is introduced into the database query**, In this case, it's the `id` parameter.

Let's pretend article `id=2` is still locked as private, so it cannot be viewed on the website. We could now instead call the URL:

```sh
https://website.thm/blog?id=2;--
```

Which would then, in turn, produce the SQL statement:

```sql
SELECT * from blog where id=2;-- and private=0 LIMIT 1;
```

## In-band SQLi

_[[cybersecurity/knowledge/glossary/in-band|In-Band]] SQL Injection_ is the easiest type to detect and exploit.

### Error-Based SQL Injection

Obtaining information about the database structure as error messages from the DB printed directly to the browser screen.

The key to **discovering** error-based SQL Injection is to break the code's SQL query by trying certain characters until an error message is produced (most commonly `'` or `"`).

### Union-Based SQL Injection

This type of Injection utilises the SQL UNION operator alongside a SELECT statement to return additional results to the page.

## Blind SQLi
_Blind SQLi_ is when we get little to no feedback to confirm whether our injected queries were, in fact, successful or not. This is because the error messages have been disabled, but the injection still works regardless. All we need is that **little bit of feedback** to successful enumerate a whole database. 

### Authentication Bypass
`/* [...] */`

